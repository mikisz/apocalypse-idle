export const RESEARCH = [
  // Industry track
  {
    id: 'industry1',
    name: 'Industry I',
    type: 'unlock',
    shortDesc:
      'Unlocks basic processing and storage for construction materials.',
    cost: { science: 60 },
    timeSec: 120,
    prereqs: [],
    unlocks: {
      buildings: ['sawmill', 'metalWorkshop', 'materialsDepot'],
      categories: ['CONSTRUCTION_MATERIALS'],
      resources: ['planks', 'metalParts'],
    },
    row: 0,
    track: 0,
    effects: [],
  },
  {
    id: 'woodworking1',
    name: 'Woodworking I',
    type: 'efficiency',
    shortDesc: '+5% to wood and derived planks.',
    cost: { science: 60 },
    timeSec: 90,
    prereqs: ['industry1'],
    effects: [{ category: 'WOOD', percent: 0.05, type: 'output' }],
    row: 1,
    track: 0,
  },
  {
    id: 'salvaging1',
    name: 'Salvaging I',
    type: 'efficiency',
    shortDesc: '+5% to scrap and derived metal parts.',
    cost: { science: 60 },
    timeSec: 90,
    prereqs: ['industry1'],
    effects: [{ category: 'SCRAP', percent: 0.05, type: 'output' }],
    row: 1,
    track: 0,
  },
  {
    id: 'logistics1',
    name: 'Logistics I',
    type: 'efficiency',
    shortDesc:
      '+5% storage capacity for raw materials and construction materials.',
    cost: { science: 60 },
    timeSec: 90,
    prereqs: ['industry1'],
    effects: [
      { category: 'RAW', percent: 0.05, type: 'storage' },
      { category: 'CONSTRUCTION_MATERIALS', percent: 0.05, type: 'storage' },
    ],
    row: 1,
    track: 0,
  },
  {
    id: 'industry2',
    name: 'Industry II',
    type: 'unlock',
    shortDesc: 'Unlocks advanced tools and further processing.',
    cost: { science: 200 },
    timeSec: 240,
    prereqs: ['woodworking1', 'salvaging1', 'logistics1'],
    milestones: { produced: { planks: 50, metalParts: 30 } },
    unlocks: { buildings: ['toolsmithy'] },
    row: 2,
    track: 0,
    effects: [],
  },
  {
    id: 'industryProduction',
    name: 'Industry Production',
    type: 'efficiency',
    shortDesc: '+5% output for construction materials.',
    cost: { science: 170 },
    timeSec: 270,
    prereqs: ['woodworking1', 'salvaging1', 'logistics1'],
    effects: [
      { category: 'CONSTRUCTION_MATERIALS', percent: 0.05, type: 'output' },
    ],
    row: 2,
    track: 0,
  },
  {
    id: 'woodworking2',
    name: 'Woodworking II',
    type: 'efficiency',
    shortDesc: 'Additional +5% to wood and planks.',
    cost: { science: 220 },
    timeSec: 360,
    prereqs: [
      'industry2',
      'industryProduction',
      'woodworking1',
      'salvaging1',
      'logistics1',
    ],
    effects: [{ category: 'WOOD', percent: 0.05, type: 'output' }],
    row: 3,
    track: 0,
  },
  {
    id: 'salvaging2',
    name: 'Salvaging II',
    type: 'efficiency',
    shortDesc: 'Additional +5% to scrap and metal parts.',
    cost: { science: 220 },
    timeSec: 360,
    prereqs: [
      'industry2',
      'industryProduction',
      'woodworking1',
      'salvaging1',
      'logistics1',
    ],
    effects: [{ category: 'SCRAP', percent: 0.05, type: 'output' }],
    row: 3,
    track: 0,
  },
  {
    id: 'logistics2',
    name: 'Logistics II',
    type: 'efficiency',
    shortDesc:
      'Additional +5% storage capacity for raw materials and construction materials.',
    cost: { science: 230 },
    timeSec: 360,
    prereqs: [
      'industry2',
      'industryProduction',
      'woodworking1',
      'salvaging1',
      'logistics1',
    ],
    effects: [
      { category: 'RAW', percent: 0.05, type: 'storage' },
      { category: 'CONSTRUCTION_MATERIALS', percent: 0.05, type: 'storage' },
    ],
    row: 3,
    track: 0,
  },
  // Power track
  {
    id: 'basicEnergy',
    name: 'Basic Energy',
    type: 'unlock',
    shortDesc:
      'Learn the fundamentals of generating and storing electrical power.',
    cost: { science: 150 },
    timeSec: 210,
    prereqs: ['industry2'],
    unlocks: {
      resources: ['power'],
      buildings: ['woodGenerator', 'battery'],
      categories: ['Energy'],
    },
    row: 0,
    track: 2,
    effects: [],
  },
  {
    id: 'radio',
    name: 'Radio',
    type: 'unlock',
    shortDesc: 'Unlocks radio broadcasts to attract settlers.',
    cost: { science: 150 },
    timeSec: 240,
    prereqs: ['basicEnergy'],
    unlocks: { buildings: ['radio'] },
    row: 1,
    track: 2,
    effects: [],
  },
  // Food track
  {
    id: 'food1',
    name: 'Food I',
    type: 'unlock',
    shortDesc: 'Lays the groundwork for improved food gathering.',
    cost: { science: 50 },
    timeSec: 90,
    prereqs: [],
    unlocks: {},
    row: 0,
    track: 1,
    effects: [],
  },
  {
    id: 'huntingHut',
    name: 'Hunting Hut',
    type: 'unlock',
    shortDesc: 'Unlocks the hunting hut for supplemental meat.',
    cost: { science: 60 },
    timeSec: 90,
    prereqs: ['food1'],
    unlocks: { buildings: ['huntersHut'], resources: ['meat'] },
    row: 1,
    track: 1,
    effects: [],
  },
  {
    id: 'food2',
    name: 'Food II',
    type: 'efficiency',
    shortDesc: '+4% to meat output.',
    cost: { science: 150 },
    timeSec: 240,
    prereqs: ['huntingHut'],
    effects: [{ resource: 'meat', percent: 0.04, type: 'output' }],
    row: 2,
    track: 1,
  },
];

export const RESEARCH_MAP = Object.fromEntries(RESEARCH.map((r) => [r.id, r]));
